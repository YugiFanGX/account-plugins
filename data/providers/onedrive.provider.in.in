<?xml version="1.0" encoding="UTF-8"?>
<provider id="onedrive">
  <name>OneDrive</name>
  <icon>onedrive</icon>
  <translations>OneDrive</translations>
  <domains>.*live\.com</domains>
  <plugin>generic-oauth</plugin>
  <single-account>true</single-account>
  <template>
    <group name="auth">
      <setting name="method">oauth2</setting>
      <setting name="mechanism">user_agent</setting>
      <group name="oauth2">
        <group name="user_agent">
          <setting name="Host">login.live.com</setting>
          <setting name="AuthPath">oauth20_authorize.srf</setting>
          <setting name="RedirectUri">https://developer.ubuntu.com/en/</setting>
          <setting name="ResponseType">token</setting>
          <setting name="ClientId">@ONEDRIVE_CLIENT_ID@</setting>
          <setting type="as" name="Scope">['onedrive.readwrite onedrive.appfolder']</setting>          
          <setting type="as" name="AllowedSchemes">['https', 'http']</setting>
          <setting type="b" name="DisableStateParameter">true</setting>
        </group>
      </group>
    </group>
  </template>
</provider>
